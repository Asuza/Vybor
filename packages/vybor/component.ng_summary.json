{
  "ngDeps": {
    "1": "",
    "3": [
      {
        "1": "dart:async",
        "5": false
      },
      {
        "1": "dart:math",
        "5": false
      },
      {
        "1": "package:intl/intl.dart",
        "5": false
      },
      {
        "1": "package:angular2/core.dart",
        "5": false
      },
      {
        "1": "package:vybor/actions.dart",
        "5": false
      },
      {
        "1": "package:vybor/client.dart",
        "5": false
      },
      {
        "1": "package:vybor/firebase_client.dart",
        "5": false
      },
      {
        "1": "package:vybor/model.dart",
        "5": false
      }
    ],
    "5": [
      {
        "1": "VyborComponent"
      }
    ],
    "6": "component.dart"
  },
  "type": {
    "VyborComponent": {
      "class": "Directive",
      "isComponent": true,
      "selector": "vybor",
      "exportAs": null,
      "type": {
        "class": "Type",
        "name": "VyborComponent",
        "moduleUrl": "asset:vybor/lib/component.dart",
        "prefix": null,
        "isHost": false,
        "value": null,
        "diDeps": []
      },
      "changeDetection": 6,
      "inputs": {},
      "inputTypes": {},
      "outputs": {},
      "hostListeners": {},
      "hostProperties": {},
      "hostAttributes": {},
      "lifecycleHooks": [],
      "template": {
        "encapsulation": 0,
        "template": "<div roll=\"main\">\n    <nav class=\"nav\">\n        <div class=\"nav-left\">\n            <a class=\"nav-item\" *ngIf=\"userSelected\">\n                Signed in as {{theUser?.name}}\n            </a>\n            <a class=\"nav-item\" *ngIf=\"!userSelected\">\n                Sign in to add your own options\n            </a>\n        </div>\n\n        <!-- This \"nav-toggle\" hamburger menu is only visible on mobile -->\n        <span class=\"nav-toggle\" [class.is-active]=\"showMobileMenu\" (click)=\"showMobileMenu = !showMobileMenu\">\n            <span></span>\n            <span></span>\n            <span></span>\n        </span>\n\n        <!-- This \"nav-menu\" is hidden on mobile -->\n        <div class=\"nav-right nav-menu\" [class.is-active]=\"showMobileMenu\">\n            <a class=\"nav-item\" *ngIf=\"userSelected\">\n                <a class=\"button is-primary is-outlined\" (click)=\"modalView = modal_view_manage_content\">\n                    Manage your content\n                </a>\n                <a class=\"button is-danger is-outlined\" (click)=\"actions.signOut()\">\n                    <span>Sign out</span>\n                </a>\n            </a>\n            <a class=\"nav-item\" *ngIf=\"!userSelected\">\n                <button class=\"button is-primary\" (click)=\"actions.signIn()\">Sign in</button>\n            </a>\n        </div>\n    </nav>\n\n    <!-- Vybor hero -->\n    <section class=\"hero\">\n        <div class=\"hero-body\">\n            <div class=\"container\">\n                <div class=\"heading\">\n                    <h1 class=\"title is-1\"><a>Выбор</a> / <a>Vybor</a></h1>\n                </div>\n                <h3 class=\"title is-3\">The Russian word for <strong>choice</strong>.</h3>\n                <h4 class=\"subtitle is-4\">\n                    To make one, find or create a group, add your options, and press <strong>pick</strong>.\n                </h4>\n            </div>\n        </div>\n    </section>\n\n    <!-- Group Panel -->\n    <div class=\"container\">\n        <div class=\"card\" *ngIf=\"groupCardView != group_card_view_hidden\">\n            <div class=\"card-content\">\n\n                <!-- Group Name & recent pick info -->\n                <div class=\"content\">\n                    <div class=\"heading\">\n                        <h3 class=\"title is-3\">\n                            {{theGroup?.name}}\n                            <span class=\"icon\" *ngFor=\"let uid of groupUsers\">\n                                <i class=\"fa fa-child\" *ngIf=\"!(user(uid)?.active ?? false)\" title=\"{{user(uid)?.name}}\"></i>\n                                <a *ngIf=\"user(uid)?.active ?? false\"><i class=\"fa fa-child\" title=\"{{user(uid)?.name}} (Online)\"></i></a>\n                            </span>\n                        </h3>\n                        <h5 class=\"menu-label\" *ngIf=\"lastPick != null\">\n                            Most recent pick: <a title=\"Picked by {{user(pick(lastPick)?.creator)?.name}}\">{{option(lastPickedOption)?.name}}</a> ({{fmtAgo(pick(lastPick)?.pickTimestamp)}})\n                        </h5>\n                    </div>\n\n                    <!-- Edit Description -->\n                    <div class=\"control is-grouped\" *ngIf=\"showEditGroupInput\">\n                        <p class=\"control is-expanded\">\n                            <input #groupDescriptionInput class=\"input\" type=\"text\" placeholder=\"Description text...\">\n                        </p>\n                        <p class=\"control\">\n                            <a class=\"button is-white\" (click)=\"actions.updateDescription(groupDescriptionInput.value); groupDescriptionInput.value = ''; showEditGroupInput = false\">\n                                <span class=\"icon is-small\">\n                                    <i class=\"fa fa-check\" title=\"Confirm\" ></i>\n                                </span>\n                            </a>\n                        </p>\n                        <p class=\"control\">\n                            <a class=\"button is-white\" (click)=\"groupDescriptionInput.value = ''; showEditGroupInput = false\">\n                                <span class=\"icon is-small\">\n                                    <i class=\"fa fa-times\" title=\"Cancel\" ></i>\n                                </span>\n                            </a>\n                        </p>\n                    </div>\n                    <div *ngIf=\"!showEditGroupInput && user(theGroup?.creator) == theUser\" >\n                        <p class=\"subtitle is-5\" style=\"color:darkgrey;\">{{theGroup?.description}}</p>\n                        <a class=\"button is-white\" (click)=\"showEditGroupInput = true\">\n                            <span class=\"icon is-small\">\n                                <i class=\"fa fa-pencil\" title=\"Edit description\" ></i>\n                            </span>\n                        </a>\n                    </div>\n\n                </div>\n\n                <!-- Options, Members, History tabs -->\n                <div class=\"tabs is-centered\">\n                    <ul>\n                        <li [class.is-active]=\"groupCardView == group_card_view_options\" (click)=\"groupCardView = group_card_view_options\"><a>Options ({{groupOptions.length}})</a></li>\n                        <li [class.is-active]=\"groupCardView == group_card_view_members\" (click)=\"groupCardView = group_card_view_members\"><a>Members ({{groupUsers.length}})</a></li>\n                        <li [class.is-active]=\"groupCardView == group_card_view_history\" (click)=\"groupCardView = group_card_view_history\"><a>History ({{groupPicks.length}})</a></li>\n                    </ul>\n                </div>\n\n                <aside class=\"menu\">\n\n                    <!-- Options view -->\n                    <ul class=\"menu-list\" *ngIf=\"groupCardView == group_card_view_options\">\n                        <li *ngFor=\"let uid of visibleOptions(groupOptions)\">\n                            <a (click)=\"optionIsBlocked(uid) ? actions.enableOption(uid) : actions.disableOption(uid)\">\n                                <span *ngIf=\"optionCreatedByTheUser(uid)\" title=\"You added this!\">*</span>\n                                <strong>{{option(uid)?.name}}</strong>\n                                <span *ngIf=\"optionIsBlocked(uid)\">(Blocked)</span>\n                                <span *ngIf=\"optionCreatorIsBlocked(uid)\">(Blocked Creator)</span>\n                            </a>\n                        </li>\n                    </ul>\n\n                    <!-- Members view -->\n                    <ul class=\"menu-list\" *ngIf=\"groupCardView == group_card_view_members\">\n                        <li *ngFor=\"let uid of groupUsers\">\n                            <a (click)=\"userIdBlocked(uid) ? actions.enableUser(uid) : actions.disableUser(uid)\">\n                                <strong>{{user(uid)?.name}}</strong>\n                                <span *ngIf=\"userIdBlocked(uid)\">(Blocked)</span>\n                            </a>\n                        </li>\n                    </ul>\n\n                    <!-- History view -->\n                    <ul class=\"menu-list\" *ngIf=\"groupCardView == group_card_view_history\">\n                        <li *ngFor=\"let uid of groupPicks\">\n                            <a>\n                                <h4>\n                                    <strong>{{option(pick(uid)?.option)?.name}}</strong> ({{fmtAgo(pick(uid)?.pickTimestamp)}})\n                                </h4>\n                                <ul>\n                                    <li>Option added by <strong>{{user(option(pick(uid)?.option)?.creator)?.name}}</strong></li>\n                                    <li>Picked by <strong>{{user(pick(uid)?.creator)?.name}}</strong></li>\n                                </ul>\n                            </a>\n                        </li>\n                    </ul>\n                </aside>\n            </div>\n\n            <!-- Group related user options -->\n            <footer class=\"card-footer\">\n                <a class=\"card-footer-item\" [class.is-disabled]=\"!userSelected\" (click)=\"modalView=modal_view_create_option\">Add Option</a>\n                <a class=\"card-footer-item\" (click)=\"actions.createPick()\">Pick</a>\n            </footer>\n        </div>\n    </div>\n\n    <!-- Group Search area -->\n    <section class=\"section\">\n        <div class=\"container\">\n\n            <!-- Create a new Group ui -->\n            <div class=\"control is-grouped\">\n                <p class=\"control is-expanded\">\n                    <input #groupNameInput class=\"input\" type=\"text\" placeholder=\"Enter a group name...\">\n                </p>\n                <p class=\"control\">\n                    <button class=\"button is-primary is-outlined is-fullwidth\"\n                            (click)=\"actions.createGroup(groupNameInput.value); groupNameInput.value=''\">\n                        Create Group\n                    </button>\n                </p>\n            </div>\n\n            <!-- Search results -->\n            <aside class=\"menu\">\n                <ul class=\"menu-list\">\n                    <li *ngFor=\"let uid of visibleGroups(groups.keys)\">\n                        <a title=\"Join group\"\n                                (click)=\"actions.joinGroup(uid)\">\n                            {{group(uid).name}}\n                        </a>\n                    </li>\n                </ul>\n            </aside>\n        </div>\n    </section>\n\n    <!-- Footer licenses and shout-outs -->\n    <footer class=\"footer\">\n        <div class=\"container\">\n            <div class=\"content has-text-centered\">\n                <p>\n                    <strong>Vybor</strong> by <a href=\"http://github.com/jerold\">Jerold Albertson</a>, inpired by <a href=\"http://github.com/dominicfrost\">Dominic Frost's</a> <strong>Lunch Picker</strong>.\n                    Styled with <a href=\"http://bulma.io/\">Bulma</a>.\n                </p>\n                <p>\n                    The source code is licensed <a href=\"http://opensource.org/licenses/mit-license.php\">MIT</a>.\n                    The website content is licensed <a href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">CC ANS 4.0</a>.\n                </p>\n                <a class=\"icon\" href=\"https://github.com/jerold/Vybor\">\n                    <i class=\"fa fa-github\"></i>\n                </a>\n            </div>\n        </div>\n    </footer>\n\n    <!-- Content management modal -->\n    <div class=\"modal\" [class.is-active]=\"modalView == modal_view_manage_content\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-content\">\n            <div class=\"box\" *ngIf=\"!userSelected\">\n                Log in to manage your groups and options.\n            </div>\n            <div class=\"box\" *ngIf=\"userSelected\">\n                <h2 class=\"title\">Manage your groups.</h2>\n                <div class=\"block\" *ngFor=\"let uid of visibleGroups(theUser?.groups)\">\n                    <a class=\"button is-danger is-outlined\"\n                            title=\"Delete group\"\n                            (click)=\"actions.deleteGroup(uid)\">\n                        Delete\n                    </a>\n                    <a class=\"button is-white\"\n                            title=\"{{group(uid)?.options.length}} options, {{group(uid)?.users.length}} members, {{group(uid)?.picks.length}} picks\"\n                            (click)=\"actions.joinGroup(uid); modalView = modal_view_hidden\">\n                        {{group(uid)?.name}}\n                    </a>\n                </div>\n                <br>\n                <h2 class=\"title\">Manage your options.</h2>\n                <div class=\"block\" *ngFor=\"let uid of visibleOptions(theUser?.options)\">\n                    <a class=\"button is-danger is-outlined\"\n                            title=\"Delete option\"\n                            (click)=\"actions.deleteOption(uid)\">\n                        Delete\n                    </a>\n                    <a class=\"button is-white\"\n                            title=\"Group: {{group(option(uid)?.group)?.name}}\"\n                            (click)=\"actions.joinGroup(option(uid)?.group); modalView = modal_view_hidden\">\n                        {{option(uid)?.name}}\n                    </a>\n                </div>\n                <br>\n                <label class=\"label\">\n                    <span class=\"icon is-small\">\n                        <i class=\"fa fa-info-circle\"></i>\n                    </span>\n                    <p class=\"menu-label\">Click on the name of a group or option to see it in context.</p>\n                </label>\n            </div>\n        </div>\n        <button class=\"modal-close\" (click)=\"modalView = modal_view_hidden\"></button>\n    </div>\n\n    <!-- Create option modal -->\n    <div class=\"modal\" [class.is-active]=\"modalView == modal_view_create_option\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-content\">\n            <div class=\"box\">\n                <label class=\"label\">Create an option</label>\n                <div class=\"control is-grouped\">\n                    <p class=\"control is-expanded\">\n                        <input #optionNameInput class=\"input\" type=\"text\" placeholder=\"Option name...\">\n                    </p>\n                    <p class=\"control\">\n                        <button class=\"button is-primary\" (click)=\"actions.createOption(optionNameInput.value); optionNameInput.value=''; modalView = modal_view_hidden\">Submit</button>\n                    </p>\n                </div>\n            </div>\n        </div>\n        <button class=\"modal-close\" (click)=\"modalView = modal_view_hidden\"></button>\n    </div>\n\n    <!-- View the new pick modal -->\n    <div class=\"modal\" [class.is-active]=\"modalView == modal_view_show_pick\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-content\">\n            <div class=\"box\">\n                <div class=\"container\">\n                    <h1 class=\"title\">\n                        {{theOption?.name}}\n                    </h1>\n                    <h2 class=\"subtitle\">\n                        Option by <strong>{{user(theOption?.creator)?.name}}</strong>\n                    </h2>\n                </div>\n            </div>\n        </div>\n        <button class=\"modal-close\" (click)=\"modalView = modal_view_hidden\"></button>\n    </div>\n</div>\n",
        "templateUrl": "asset:vybor/lib/template.html",
        "styles": [],
        "styleUrls": [
          "asset:vybor/lib/bulma.css"
        ],
        "ngContentSelectors": []
      },
      "providers": [],
      "viewProviders": [],
      "queries": [],
      "viewQueries": []
    }
  },
  "alias": {}
}